{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/backend.service\";\nimport * as i2 from \"../services/highscore.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/list\";\n\nfunction HighscoresComponent_div_2_mat_list_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\");\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"em\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const score_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r4 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", score_r3.username, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r3.score);\n  }\n}\n\nfunction HighscoresComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-list\");\n    i0.ɵɵtemplate(4, HighscoresComponent_div_2_mat_list_item_4_Template, 6, 3, \"mat-list-item\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const d_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r1.difficulty.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", d_r1.scores);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/spiel\"];\n};\n\nexport let HighscoresComponent = /*#__PURE__*/(() => {\n  class HighscoresComponent {\n    constructor(backend, highscoreService) {\n      this.backend = backend;\n      this.highscoreService = highscoreService;\n      this.difficulties = [];\n      this.highscores = [];\n      this.diffWithScores = [];\n      this.difficulties = this.backend.getDifficulties();\n      this.highscoreService.getHighscores().subscribe(data => {\n        this.highscores = data;\n        console.log(this.highscores);\n\n        for (const dif of this.difficulties) {\n          console.log(dif.id.toString());\n          let filter = this.highscores.filter(x => x.difficulty.toString() === dif.id.toString());\n          console.log(filter);\n          filter.sort((a, b) => a.score < b.score ? 1 : b.score < a.score ? -1 : 0);\n          filter = filter.slice(0, 10);\n          this.diffWithScores.push({\n            difficulty: dif,\n            scores: filter\n          });\n        }\n      });\n    }\n\n    ngOnInit() {}\n\n  }\n\n  HighscoresComponent.ɵfac = function HighscoresComponent_Factory(t) {\n    return new (t || HighscoresComponent)(i0.ɵɵdirectiveInject(i1.BackendService), i0.ɵɵdirectiveInject(i2.HighscoreService));\n  };\n\n  HighscoresComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HighscoresComponent,\n    selectors: [[\"app-highscores\"]],\n    decls: 5,\n    vars: 3,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"start-button\", 3, \"routerLink\"]],\n    template: function HighscoresComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"HighScores\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, HighscoresComponent_div_2_Template, 6, 2, \"div\", 0);\n        i0.ɵɵelementStart(3, \"button\", 1);\n        i0.ɵɵtext(4, \"Spielen!\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.diffWithScores);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n      }\n    },\n    directives: [i3.NgForOf, i4.MatButton, i5.RouterLink, i6.MatList, i6.MatListItem],\n    styles: [\".mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:#000;font-size:1.2em;border-bottom:1px solid gray}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none!important}strong[_ngcontent-%COMP%]{color:#9b1430;font-size:1.3em;font-weight:bold;margin-right:10px}em[_ngcontent-%COMP%]{margin-left:auto}\"]\n  });\n  return HighscoresComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}